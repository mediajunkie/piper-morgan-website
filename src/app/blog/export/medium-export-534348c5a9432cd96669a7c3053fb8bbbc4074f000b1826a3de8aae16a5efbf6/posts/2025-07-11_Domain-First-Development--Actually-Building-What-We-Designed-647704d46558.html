<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Domain-First Development: Actually Building What We Designed</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Domain-First Development: Actually Building What We Designed</h1>
</header>
<section data-field="subtitle" class="p-summary">
June 2, 2025
</section>
<section data-field="body" class="e-content">
<section name="d3c8" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="42f2" id="42f2" class="graf graf--h3 graf--leading graf--title">Domain-First Development: Actually Building What We Designed</h3><p name="4599" id="4599" class="graf graf--p graf-after--h3"><em class="markup--em markup--p-em">June 2, 2025</em></p><figure name="bfbf" id="bfbf" class="graf graf--figure graf--startsWithDoubleQuote graf-after--p"><img class="graf-image" data-image-id="1*vm0WHWHYpMxp0O10DHWwBA.png" data-width="1536" data-height="1024" data-is-featured="true" alt="A robot helping a person pour the foundation for a new house" src="https://cdn-images-1.medium.com/max/800/1*vm0WHWHYpMxp0O10DHWwBA.png"><figcaption class="imageCaption">“Now that’s a foundation”</figcaption></figure><p name="958d" id="958d" class="graf graf--p graf--hasDropCapModel graf--hasDropCap graf-after--figure"><span class="graf-dropCap">T</span>he decision was made: Time to start over. I’d synthesized the advice of multiple thinking parters and designed a $0 infrastructure. I’d written about the vision of a strategic thinking partner.</p><p name="ff36" id="ff36" class="graf graf--p graf-after--p">Now came the hard part: actually building it.</p><h3 name="c058" id="c058" class="graf graf--h3 graf-after--p">Starting where it matters</h3><p name="e13e" id="e13e" class="graf graf--p graf-after--h3">The temptation was strong to dive straight into the AI integration. After all, this was an AI product, right? But years of watching projects fail (and a bit of asking around for advice from several LLMs) taught me better. Start with the domain.</p><p name="c97c" id="c97c" class="graf graf--p graf-after--p">While Docker containers spun up in the background (PostgreSQL, Redis, ChromaDB, Temporal, Traefik — the whole orchestra), I opened a single file: <code class="markup--code markup--p-code">models.py</code>.</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="css" name="cbb8" id="cbb8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">python<span class="hljs-keyword">@dataclass</span><br />class <span class="hljs-attribute">Product</span>:<br />    <span class="hljs-attribute">id</span>: str<br />    <span class="hljs-attribute">name</span>: str<br />    <span class="hljs-attribute">vision</span>: str<br />    <span class="hljs-attribute">strategy</span>: str<br />    <span class="hljs-attribute">metrics</span>: List[<span class="hljs-string">&#x27;Metric&#x27;</span>]<br />    <span class="hljs-attribute">features</span>: List[<span class="hljs-string">&#x27;Feature&#x27;</span>]<br />    <span class="hljs-attribute">stakeholders</span>: List[<span class="hljs-string">&#x27;Stakeholder&#x27;</span>]</span></pre><p name="13aa" id="13aa" class="graf graf--p graf-after--pre">This wasn’t code. This was philosophy. Every line was a statement about what product management actually is.</p><p name="7e03" id="7e03" class="graf graf--p graf-after--p">I was reminded of realizing back in the day (maybe when I was still at Yahoo) that a great User Experience started with the data structures. By the time you’re painting the interface on, it’s too late!</p><p name="c87c" id="c87c" class="graf graf--p graf-after--p">This is likely doubly true now that the presentation layer is evolving into this fuzzy language-based form of interaction.</p><h3 name="4b4c" id="4b4c" class="graf graf--h3 graf-after--p">Successful prototype syndrome</h3><p name="b0b8" id="b0b8" class="graf graf--p graf-after--h3">Here’s something nobody tells you about successful prototypes: they’re dangerous. The POC worked. It created GitHub issues, reviewed tickets, ingested documents. It would have been so easy to just… keep building on it.</p><p name="3949" id="3949" class="graf graf--p graf-after--p">But that’s how you end up with a GitHub issue creator that happens to do PM tasks, instead of a PM assistant that happens to create GitHub issues.</p><p name="3139" id="3139" class="graf graf--p graf-after--p">The domain models forced the right perspective:</p><ul class="postList"><li name="1c10" id="1c10" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">WorkItem</code> not <code class="markup--code markup--li-code">GitHubIssue</code></li><li name="ba4e" id="ba4e" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Stakeholder</code> not <code class="markup--code markup--li-code">GitHubUser</code></li><li name="1641" id="1641" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Feature</code> not <code class="markup--code markup--li-code">PullRequest</code></li></ul><p name="d568" id="d568" class="graf graf--p graf-after--li">GitHub would be a plugin. So would Jira. So would whatever the hot new tool would be next year.</p><h3 name="7624" id="7624" class="graf graf--h3 graf-after--p">The SSH authentication dance</h3><p name="e280" id="e280" class="graf graf--p graf-after--h3">Of course, no development session is complete without authentication issues. I kept following advice to use obsolete GitHub workflows and would only realize when it asked for my password and then rejected the login saying GitHub doesn’t support that form of authentication anymore.</p><p name="c49c" id="c49c" class="graf graf--p graf-after--p">Then I’d remember I had SSH keys set up and use that instead. But the dance continued.</p><p name="25f9" id="25f9" class="graf graf--p graf-after--p">bash</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="css" name="8fda" id="8fda" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">git push origin <span class="hljs-selector-tag">main</span><br />Permission denied (publickey)</span></pre><p name="bf7e" id="bf7e" class="graf graf--p graf-after--pre">But I have SSH keys! They’re right there!</p><p name="f2fc" id="f2fc" class="graf graf--p graf-after--p">Turns out you can have SSH keys got GitHub that only let you read stuff and not write it. Why did I set one of thus up at first? I seriously can’t remember.</p><p name="16df" id="16df" class="graf graf--p graf-after--p">Also, having SSH configured for GitHub and having it configured for <em class="markup--em markup--p-em">this</em> repository are also different things.</p><p name="8ac6" id="8ac6" class="graf graf--p graf-after--p">Twenty minutes later I found (or maybe created again from scratch) the right kind of PAT (personal access token) and was able to move on, for now.</p><h3 name="5471" id="5471" class="graf graf--h3 graf-after--p">Dependencies: the hidden time sink</h3><p name="a6f3" id="a6f3" class="graf graf--p graf-after--h3">With models defined and Git finally cooperating, time to install dependencies. How hard could it be? (Readers of this series may already have an idea.)</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="typescript" name="1069" id="1069" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">pip install -r requirements.<span class="hljs-property">txt</span></span></pre><p name="be59" id="be59" class="graf graf--p graf-after--pre"><em class="markup--em markup--p-em">It was, in fact, quite hard.</em></p><p name="d9cb" id="d9cb" class="graf graf--p graf-after--p">The AI ecosystem in 2025 is… energetic. Packages update daily. Breaking changes are a lifestyle choice. My terminal became a waterfall of version conflicts:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="cpp" name="0e4e" id="0e4e" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">langchain <span class="hljs-number">0.1</span><span class="hljs-number">.0</span> <span class="hljs-keyword">requires</span> pydantic&gt;=<span class="hljs-number">2.0</span><br />but anthropic <span class="hljs-number">0.18</span><span class="hljs-number">.1</span> <span class="hljs-keyword">requires</span> pydantic&lt;<span class="hljs-number">2.0</span><br />but openai <span class="hljs-number">1.0</span><span class="hljs-number">.0</span> <span class="hljs-keyword">requires</span> pydantic&gt;=<span class="hljs-number">2.0</span><br />but wait chromadb needs...</span></pre><p name="3ddd" id="3ddd" class="graf graf--p graf-after--pre">Solution? Start minimal. Add only what you need, when you need it. The final requirements.txt was surprisingly short:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="typescript" name="211c" id="211c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">fastapi<br />anthropic<br />openai<br />sqlalchemy<br />redis</span></pre><p name="8616" id="8616" class="graf graf--p graf-after--pre">Everything else could wait.</p><h3 name="9213" id="9213" class="graf graf--h3 graf-after--p">Infrastructure: when it just works</h3><p name="e7a4" id="e7a4" class="graf graf--p graf-after--h3">Here’s the beautiful thing about that bootstrap script: it actually worked. One command and I had enterprise-grade infrastructure running locally:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="29bb" id="29bb" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">./bootstrap-piper-1.0.sh</span></pre><p name="1a37" id="1a37" class="graf graf--p graf-after--pre">Five minutes later, Temporal’s workflow engine was humming, PostgreSQL was ready for data, Redis was caching nothing (but ready to cache everything), and Traefik was routing traffic like a champ.</p><p name="ab73" id="ab73" class="graf graf--p graf-after--p">Boring infrastructure is good infrastructure.</p><h3 name="3b65" id="3b65" class="graf graf--h3 graf-after--p">The first real test</h3><p name="2811" id="2811" class="graf graf--p graf-after--h3">With domain models defined and infrastructure running, time for the moment of truth. Could this architecture actually process PM requests?</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="4967" id="4967" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">&quot;/api/v1/intent&quot;</span></span>)</span><br /><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_intent</span>(<span class="hljs-params">request: IntentRequest</span>):<br />    <span class="hljs-comment"># For now, just echo back with mock classification</span><br />    <span class="hljs-keyword">return</span> {<br />        <span class="hljs-string">&quot;intent&quot;</span>: <span class="hljs-string">&quot;CREATE_WORK_ITEM&quot;</span>,<br />        <span class="hljs-string">&quot;confidence&quot;</span>: <span class="hljs-number">0.95</span>,<br />        <span class="hljs-string">&quot;suggested_action&quot;</span>: <span class="hljs-string">&quot;Create a new work item&quot;</span>,<br />        <span class="hljs-string">&quot;domain&quot;</span>: <span class="hljs-string">&quot;execution&quot;</span><br />    }</span></pre><p name="ce3c" id="ce3c" class="graf graf--p graf-after--pre">Not exactly AI-powered yet, but the shape was right. The domain concepts were driving the API, not the other way around.</p><h3 name="93b6" id="93b6" class="graf graf--h3 graf-after--p">Multi-laptop reality</h3><p name="2d12" id="2d12" class="graf graf--p graf-after--h3">Then came anotherreal test: could I work on this from both laptops?</p><p name="ed47" id="ed47" class="graf graf--p graf-after--p">The work laptop (kindbook) had everything set up. The personal laptop (faoilean)… did not.</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="abc3" id="abc3" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment"># On personal laptop</span><br />git <span class="hljs-built_in">clone</span> git@github.com:mediajunkie/piper-morgan-platform.git<br />Permission denied (publickey)</span></pre><p name="7dc0" id="7dc0" class="graf graf--p graf-after--pre">Different laptop. Different SSH keys. Different dance.</p><p name="fb76" id="fb76" class="graf graf--p graf-after--p">But once the authentication tango was done, something magical happened. Pull the code, run the bootstrap script, and boom — identical development environment. The Docker approach was proving its worth.</p><h3 name="7d00" id="7d00" class="graf graf--h3 graf-after--p">The power of boring</h3><p name="b060" id="b060" class="graf graf--p graf-after--h3">By the end of the session, I had:</p><ul class="postList"><li name="bdcf" id="bdcf" class="graf graf--li graf-after--p">Domain models that actually modeled the domain</li><li name="8585" id="8585" class="graf graf--li graf-after--li">Infrastructure that just worked</li><li name="df57" id="df57" class="graf graf--li graf-after--li">Version control that (eventually) cooperated</li><li name="b994" id="b994" class="graf graf--li graf-after--li">A foundation ready for AI integration</li></ul><p name="c19d" id="c19d" class="graf graf--p graf-after--li">No AI responses yet. No clever features. Just solid, boring, foundational work.</p><p name="20f5" id="20f5" class="graf graf--p graf-after--p">And that’s exactly what was needed. Boring gets the donuts made.</p><h3 name="6c17" id="6c17" class="graf graf--h3 graf-after--p">Lessons from my new Day One</h3><p name="0f0e" id="0f0e" class="graf graf--p graf-after--h3">Starting over taught me:</p><ol class="postList"><li name="728e" id="728e" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Domain models are your North Star</strong> — they keep you oriented when the implementation gets messy</li><li name="54c3" id="54c3" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">SSH authentication is worth the pain</strong> — but document every step</li><li name="ed82" id="ed82" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Minimal dependencies win</strong> — you can always add more later</li><li name="ff56" id="ff56" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Boring infrastructure is beautiful</strong> — excitement should come from features, not ops</li><li name="12d2" id="12d2" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Multi-machine development is a feature</strong> — design for it from day one</li></ol><h3 name="1926" id="1926" class="graf graf--h3 graf-after--li">Next steps</h3><p name="cfb1" id="cfb1" class="graf graf--p graf-after--h3">With the foundation in place, it was time to make it smart. Real LLM integration was next. But that’s a story for another post.</p><p name="78a6" id="78a6" class="graf graf--p graf-after--p">For now, I had something more important than AI responses: I had an architecture that could grow without falling apart. The domain was driving the design. The infrastructure was invisible. The stage was set.</p><p name="87a2" id="87a2" class="graf graf--p graf-after--p graf--trailing">Sometimes the best AI work doesn’t involve any AI at all.</p></div></div></section><section name="8ae2" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="f13b" id="f13b" class="graf graf--p graf--leading"><em class="markup--em markup--p-em">Next in Building Piper Morgan: When mock responses become real AI (and why the first real classification made me laugh out loud)</em></p><p name="bbc9" id="bbc9" class="graf graf--p graf-after--p graf--trailing"><em class="markup--em markup--p-em">Have you ever had to start over on a project and decided to do it right, even if laying the foundation was going to feel slow and boring at first?</em></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@mediajunkie" class="p-author h-card">christian crumlish</a> on <a href="https://medium.com/p/647704d46558"><time class="dt-published" datetime="2025-07-11T13:17:08.443Z">July 11, 2025</time></a>.</p><p><a href="https://medium.com/@mediajunkie/domain-first-development-actually-building-what-we-designed-647704d46558" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 9, 2025.</p></footer></article></body></html>