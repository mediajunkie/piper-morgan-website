<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Small Scripts Win: Building Knowledge That Actually Knows Things</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Small Scripts Win: Building Knowledge That Actually Knows Things</h1>
</header>
<section data-field="subtitle" class="p-summary">
June 8, 2025
</section>
<section data-field="body" class="e-content">
<section name="81c4" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="02cc" id="02cc" class="graf graf--h3 graf--leading graf--title">Small Scripts Win: Building Knowledge That Actually Knows Things</h3><p name="8ca3" id="8ca3" class="graf graf--p graf-after--h3"><em class="markup--em markup--p-em">June 8, 2025</em></p><figure name="085e" id="085e" class="graf graf--figure graf--startsWithDoubleQuote graf-after--p"><img class="graf-image" data-image-id="1*iKiZ9eqmL5UM3m8-qbHWww.png" data-width="1536" data-height="1024" data-is-featured="true" alt="A robot works through a big stack of text books, writing book reports" src="https://cdn-images-1.medium.com/max/800/1*iKiZ9eqmL5UM3m8-qbHWww.png"><figcaption class="imageCaption">“Webster’s defines…”</figcaption></figure><p name="ac81" id="ac81" class="graf graf--p graf--hasDropCapModel graf--hasDropCap graf-after--figure"><span class="graf-dropCap">R</span>emember that knowledge base I mentioned? The one that was supposed to make Piper Morgan smart about product management? Well, it could store documents. It could search them. But it didn’t actually <em class="markup--em markup--p-em">understand</em> them.</p><p name="0e8f" id="0e8f" class="graf graf--p graf-after--p">Time to fix that. What happened next taught me why sometimes the best architectural decision is the smallest one.</p><h3 name="a46f" id="a46f" class="graf graf--h3 graf-after--p">The problem with dumb storage</h3><p name="8c59" id="8c59" class="graf graf--p graf-after--h3">After getting the infrastructure sorted (Docker still running, Python finally cooperating), I turned to the knowledge system. The POC had successfully ingested my PM book — 85 chunks of wisdom sitting in ChromaDB, ready to be searched.</p><p name="49b4" id="49b4" class="graf graf--p graf-after--p">But the search results were… mechanical. Ask about “user stories” and you’d get every mention of the phrase, regardless of context. The system couldn’t tell the difference between a definition of user stories, an example of one, or a passing reference in a chapter about something else entirely.</p><h3 name="e1b9" id="e1b9" class="graf graf--h3 graf-after--p">The big architecture temptation</h3><p name="f4c4" id="f4c4" class="graf graf--p graf-after--h3">My first instinct was to go big. Add a graph database! Build an ontology! Create a sophisticated relationship mapping system with nodes and edges and maybe some machine learning sprinkled on top!</p><p name="788d" id="788d" class="graf graf--p graf-after--p">One of my bot advisors even had the architecture sketched out:</p><ul class="postList"><li name="ccc7" id="ccc7" class="graf graf--li graf-after--p">Neo4j for the graph layer</li><li name="ba6f" id="ba6f" class="graf graf--li graf-after--li">Custom relationship extraction pipeline</li><li name="7b91" id="7b91" class="graf graf--li graf-after--li">Semantic parsing with dependency trees</li><li name="f83b" id="f83b" class="graf graf--li graf-after--li">A whole new service just for knowledge management</li></ul><p name="d290" id="d290" class="graf graf--p graf-after--li">It could have been glorious. And it would have taken months.</p><h3 name="e03c" id="e03c" class="graf graf--h3 graf-after--p">The small script solution</h3><p name="4f82" id="4f82" class="graf graf--p graf-after--h3">Then I remembered one of my mottos:</p><blockquote name="d5e8" id="d5e8" class="graf graf--blockquote graf-after--p">No optional complexity</blockquote><p name="ce67" id="ce67" class="graf graf--p graf-after--blockquote">Don’t build what you don’t need yet. Things are already complicated enough as it is. Sometimes the best solution is the one you can ship today.</p><p name="09a4" id="09a4" class="graf graf--p graf-after--p">Instead of a massive architectural change, we wrote four small scripts:</p><ol class="postList"><li name="da2e" id="da2e" class="graf graf--li graf-after--p">Backup the existing data (always backup first)</li><li name="44fb" id="44fb" class="graf graf--li graf-after--li">Enhance documents with LLM-based analysis</li><li name="80a7" id="80a7" class="graf graf--li graf-after--li">Update the search to use the new metadata</li><li name="2ba6" id="2ba6" class="graf graf--li graf-after--li">Test that it actually works</li></ol><p name="443d" id="443d" class="graf graf--p graf-after--li">Total lines of code? About 200. Time to implement? One day.</p><h3 name="88ab" id="88ab" class="graf graf--h3 graf-after--p">Comedy break: The hanging script saga</h3><p name="1a12" id="1a12" class="graf graf--p graf-after--h3">Of course, nothing ever works on the first try. My initial “enhancement script” was a thing of beauty — a single monolithic bash script that would transform the entire knowledge base in one glorious run.</p><p name="5916" id="5916" class="graf graf--p graf-after--p">It hung. Just… stopped. No error, no output, just a cursor blinking mockingly at me.</p><p name="90ad" id="90ad" class="graf graf--p graf-after--p">Turns out, trying to create a massive heredoc in bash while processing 85 documents through an LLM API is a great way to make your computer question its life choices.</p><p name="7437" id="7437" class="graf graf--p graf-after--p">The solution? Break it up. Small scripts. Each one does one thing. Each one you can test. Each one that fails, fails fast and tells you why. This won’t be the last time that breaking something down into pieces turns out to be the only way to get it to work right.</p><p name="9cfd" id="9cfd" class="graf graf--p graf-after--p">Hey, look at me! I’m learning stuff about how to make a system that can learn!</p><h3 name="2335" id="2335" class="graf graf--h3 graf-after--p">The “magic” of LLM analysis</h3><p name="c1c3" id="c1c3" class="graf graf--p graf-after--h3">Here’s what made the difference. Instead of complex algorithms, I just asked Claude to analyze each document:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="ruby" name="0910" id="0910" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_analyze_document_relationships</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, content, metadata</span>):<br />    prompt = f<span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;Analyze this PM document and extract:<br />    1. Main concepts discussed<br />    2. Document type (bug report, user story, etc.)<br />    3. Hierarchy level (1=foundational, 4=specific)<br />    4. Related keywords<br />    <br />    Document: {content[:1000]}...&quot;</span><span class="hljs-string">&quot;&quot;</span><br />    <br />    <span class="hljs-comment"># Let the LLM do the heavy lifting</span><br />    analysis = <span class="hljs-variable language_">self</span>.llm.analyze(prompt)<br />    <span class="hljs-keyword">return</span> parse_llm_response(analysis)</span></pre><p name="3ea7" id="3ea7" class="graf graf--p graf-after--pre">Simple. Effective. And it actually understood context.</p><h3 name="ccb8" id="ccb8" class="graf graf--h3 graf-after--p">The NumPy 2.0 disaster</h3><p name="92f9" id="92f9" class="graf graf--p graf-after--h3">Just when things were working, NumPy decided to “help” by releasing version 2.0 with breaking changes. Suddenly:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="makefile" name="69ea" id="69ea" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-section">AttributeError: np.float_ was removed in NumPy 2.0 release</span></span></pre><p name="fb57" id="fb57" class="graf graf--p graf-after--pre">You know what’s fun? Debugging compatibility issues between ChromaDB and NumPy while your environment is held together with virtual duct tape and good intentions.</p><p name="c8d5" id="c8d5" class="graf graf--p graf-after--p">Solution: Pin the version. <code class="markup--code markup--p-code">numpy&lt;2.0</code> in requirements.txt. Sometimes progress means knowing when not to upgrade. (This was neither the first nor last “numpy” problem, though.)</p><h3 name="02b8" id="02b8" class="graf graf--h3 graf-after--p">Environment variables strike again</h3><p name="c247" id="c247" class="graf graf--p graf-after--h3">Then came my favorite error of the day:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="vbnet" name="9c87" id="9c87" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">API <span class="hljs-keyword">key</span> <span class="hljs-built_in">not</span> found</span></pre><p name="4a65" id="4a65" class="graf graf--p graf-after--pre">But… I had set it. I could see it in my <code class="markup--code markup--p-code">.env</code> file. It worked in other scripts.</p><p name="c180" id="c180" class="graf graf--p graf-after--p">The culprit? The ingestion module wasn’t loading the <code class="markup--code markup--p-code">.env</code> file. One missing <code class="markup--code markup--p-code">load_dotenv()</code> call. Hours of debugging for one line of code. I could swear we had already done that!</p><p name="e3ff" id="e3ff" class="graf graf--p graf-after--p">This is the glamorous life of AI development, folks.</p><p name="00de" id="00de" class="graf graf--p graf-after--p">For want of a dot-env file the shoe was lost….</p><h3 name="385e" id="385e" class="graf graf--h3 graf-after--p">What we actually built</h3><p name="cfd0" id="cfd0" class="graf graf--p graf-after--h3">After all the comedy of errors, here’s what emerged:</p><p name="b0a9" id="b0a9" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Before</strong>: “Show me documents about user stories”<br><strong class="markup--strong markup--p-strong">Result</strong>: 15 documents, some relevant, some just mentioning the term</p><p name="bdba" id="bdba" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">After</strong>: “Show me documents about user stories”<br><strong class="markup--strong markup--p-strong">Result</strong>: Prioritized list starting with definitional content, followed by examples, with relationship scores based on actual understanding</p><p name="6b3a" id="6b3a" class="graf graf--p graf-after--p">The system now knew:</p><ul class="postList"><li name="729a" id="729a" class="graf graf--li graf-after--p">Document types (architecture docs vs. bug reports vs. tutorials)</li><li name="0fca" id="0fca" class="graf graf--li graf-after--li">Concept relationships (user stories relate to agile, requirements, and stakeholders)</li><li name="608a" id="608a" class="graf graf--li graf-after--li">Hierarchy levels (foundational concepts vs. specific implementations)</li><li name="1221" id="1221" class="graf graf--li graf-after--li">Contextual keywords beyond exact matches</li></ul><p name="a4b7" id="a4b7" class="graf graf--p graf-after--li">All from asking an LLM to think about each document as it was ingested.</p><h3 name="b0f5" id="b0f5" class="graf graf--h3 graf-after--p">The incremental architecture lesson</h3><p name="d616" id="d616" class="graf graf--p graf-after--h3">This session crystallized something important: Get the plumbing built, then gradually enrich.</p><p name="3577" id="3577" class="graf graf--p graf-after--p">I could have spent weeks building the perfect knowledge graph system. Instead, I spent a day making the existing system 10x smarter. The fancy architecture can come later — if it’s even needed.</p><p name="7a0a" id="7a0a" class="graf graf--p graf-after--p">The pattern that emerged:</p><ol class="postList"><li name="8511" id="8511" class="graf graf--li graf-after--p">Keep the working system working</li><li name="7186" id="7186" class="graf graf--li graf-after--li">Enhance in place with minimal changes</li><li name="132b" id="132b" class="graf graf--li graf-after--li">Test each enhancement before moving on</li><li name="a91a" id="a91a" class="graf graf--li graf-after--li">Document what broke so you remember why</li></ol><p name="2d49" id="2d49" class="graf graf--p graf-after--li">Looking back from a month later I can preview that this foundation for learning and (can I say it) intelligence is starting to percolate.</p><p name="0fe0" id="0fe0" class="graf graf--p graf-after--p">I’m reminded again that sometimes the best way to advance is one small script at a time. Monoliths seem to be brittle. I can’t help feel for the amazing designers I met at Yahoo ages ago who worked for years on not one but two complete overhauls of Yahoo Groups, only to fail to ship again and again due to middle-management cold feet.</p><p name="0eac" id="0eac" class="graf graf--p graf-after--p">Those poor designers had nothing for their portfolio after years of toiling in Sunnyvale, and the product could have been improved one small state at a time that entire period without alienating longtime users or whatever the suits were afraid of.</p><h3 name="4300" id="4300" class="graf graf--h3 graf-after--p">Small scripts, big wins</h3><p name="4c3b" id="4c3b" class="graf graf--p graf-after--h3">By the end of the session, I had:</p><ul class="postList"><li name="2f5b" id="2f5b" class="graf graf--li graf-after--p">A backup script (20 lines)</li><li name="c7ff" id="c7ff" class="graf graf--li graf-after--li">An enhancement script (50 lines)</li><li name="6e9f" id="6e9f" class="graf graf--li graf-after--li">An update script (30 lines)</li><li name="c4b2" id="c4b2" class="graf graf--li graf-after--li">A test script (25 lines)</li></ul><p name="aeb3" id="aeb3" class="graf graf--p graf-after--li">Each one focused, testable, debuggable. When something broke (and everything broke at least once), I knew exactly where to look.</p><p name="461a" id="461a" class="graf graf--p graf-after--p">Compare that to debugging a giganto 500-line script that hangs with no output. I’ll take small scripts every time.</p><h3 name="837d" id="837d" class="graf graf--h3 graf-after--p">Looking forward</h3><p name="9d3d" id="9d3d" class="graf graf--p graf-after--h3">With the knowledge system actually understanding PM concepts, Piper Morgan could now:</p><ul class="postList"><li name="fb31" id="fb31" class="graf graf--li graf-after--p">Provide contextually relevant information</li><li name="a92f" id="a92f" class="graf graf--li graf-after--li">Understand relationships between concepts</li><li name="da57" id="da57" class="graf graf--li graf-after--li">Prioritize foundational knowledge over specific examples</li><li name="a511" id="a511" class="graf graf--li graf-after--li">Actually help with PM decisions, not just regurgitate text</li></ul><p name="c38d" id="c38d" class="graf graf--p graf-after--li">Next up: Teaching it to review GitHub issues with this newfound wisdom. But first, I needed to figure out why my virtual environment had decided to forget where Python lived. Again.</p><h3 name="0a45" id="0a45" class="graf graf--h3 graf-after--p">The real lesson</h3><p name="8c2f" id="8c2f" class="graf graf--p graf-after--h3">Sometimes the best architectural decision is not to make one. Enhancement beats replacement. Small scripts beat monolithic systems. And always, always check if your <code class="markup--code markup--p-code">.env</code> file is being loaded.</p><p name="15cf" id="15cf" class="graf graf--p graf-after--p">The knowledge base could now actually know things. And it only took 200 lines of code, four small scripts, and one bruised ego from fighting with NumPy.</p><p name="efb9" id="efb9" class="graf graf--p graf-after--p graf--trailing">Progress.</p></div></div></section><section name="97f1" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="d3ba" id="d3ba" class="graf graf--p graf--leading"><em class="markup--em markup--p-em">Next in Building Piper Morgan: How we taught AI to review GitHub issues without hurting anyone’s feelinGs.</em></p><p name="580d" id="580d" class="graf graf--p graf-after--p graf--trailing"><em class="markup--em markup--p-em">Ever break down a huge problem you’re stuck on into smaller pieces you can fix one at a time? Tell me about it!</em></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@mediajunkie" class="p-author h-card">christian crumlish</a> on <a href="https://medium.com/p/360bd682551e"><time class="dt-published" datetime="2025-07-17T12:52:15.044Z">July 17, 2025</time></a>.</p><p><a href="https://medium.com/@mediajunkie/small-scripts-win-building-knowledge-that-actually-knows-things-360bd682551e" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 9, 2025.</p></footer></article></body></html>