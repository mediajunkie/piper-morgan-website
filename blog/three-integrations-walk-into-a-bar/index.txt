1:"$Sreact.fragment"
8:I[8393,[],""]
:HL["/_next/static/css/f9342e94655f11e9.css","style"]
2:T1313,
            :root{--primary-teal:#2DD4BF;--primary-teal-text:#0D9488;--text-dark:#1F2937;--text-light:#6B7280;--background:#FFFFFF;--surface:#F9FAFB}
            .dark{--text-dark:#F1F5F9;--text-light:#94A3B8;--background:#0F172A;--surface:#1E293B}
            @font-face{font-family:'Inter';src:url('/fonts/inter-latin.woff2') format('woff2');font-weight:100 900;font-style:normal;font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}
            *{box-sizing:border-box}
            html{scroll-behavior:smooth;font-size:16px;margin:0;padding:0;border:none;outline:none}
            body{background:var(--background);color:var(--text-dark);font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell',sans-serif;line-height:1.6;margin:0;padding:0;border:none;outline:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
            nav{border:none !important;outline:none !important}
            h1,h2,h3,h4,h5,h6{font-family:'Hoss Round','Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif}
            p,span{max-width:75ch;line-height:1.7}
            .text-content div{max-width:75ch;line-height:1.7}
            .text-content{max-width:65ch}
            @media (max-width:640px){
              h1{font-size:1.75rem;line-height:1.2}
              h2{font-size:1.25rem;line-height:1.3}
              h3{font-size:1.1rem;line-height:1.4}
              h4{font-size:1rem;line-height:1.4}
            }
            @media (min-width:641px) and (max-width:768px){
              h1{font-size:2rem;line-height:1.2}
              h2{font-size:1.5rem;line-height:1.3}
              h3{font-size:1.25rem;line-height:1.4}
            }
            @media (prefers-reduced-motion: reduce){
              *{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important}
            }
            a:hover{color:#0D9488;transition:color 0.2s ease}
            .hover-lift:hover{transform:translateY(-2px);transition:transform 0.2s ease}
            button:focus,a:focus{outline:2px solid #2DD4BF;outline-offset:2px;border-radius:4px}
            .skip-to-content{position:absolute;top:-100px;left:0;z-index:999;padding:8px 16px;background:#1F2937;color:white;text-decoration:none;border-radius:0 0 4px 0;transition:top 0.3s}
            .skip-to-content:focus{top:0;outline:2px solid #2DD4BF;outline-offset:2px}
            .section-spacing{margin-bottom:4rem}
            .component-spacing{margin-bottom:1.5rem}
            .micro-spacing{margin-bottom:0.5rem}
            @media (min-width:768px){
              .section-spacing{margin-bottom:6rem}
              .component-spacing{margin-bottom:2rem}
            }
            .site-container{width:100%;max-width:1200px;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem}
            @media (min-width:640px){.site-container{padding-left:1.5rem;padding-right:1.5rem}}
            @media (min-width:768px){.site-container{padding-left:2rem;padding-right:2rem}}
            @media (min-width:1024px){.site-container{max-width:1200px}}
            @media (min-width:1200px){.site-container{max-width:1200px}}
            .section-padding{padding-top:4rem;padding-bottom:4rem}
            @media (min-width:768px){.section-padding{padding-top:5rem;padding-bottom:5rem}}
            .mx-auto{margin-left:auto;margin-right:auto}
            .max-w-4xl{max-width:56rem}
            .pt-16{padding-top:4rem}
            .pb-8{padding-bottom:2rem}
            .px-4{padding-left:1rem;padding-right:1rem}
            .mb-6{margin-bottom:1.5rem}
            .mb-8{margin-bottom:2rem}
            .text-left{text-align:left}
            .text-center{text-align:center}
            .text-primary-teal-text{color:#0F766E}
            .text-text-dark{color:#1F2937}
            .text-text-light{color:#6B7280}
            .font-bold{font-weight:700}
            .text-4xl{font-size:2.25rem;line-height:2.5rem}
            .text-5xl{font-size:3rem;line-height:1}
            .text-6xl{font-size:3.75rem;line-height:1}
            .text-lg{font-size:1.125rem;line-height:1.75rem}
            .text-xl{font-size:1.25rem;line-height:1.75rem}
            .leading-tight{line-height:1.25}
            .leading-relaxed{line-height:1.625}
            .min-h-screen{min-height:100vh}
            @media (min-width:768px){
              .md\:pt-24{padding-top:6rem}
              .md\:pb-12{padding-bottom:3rem}
              .md\:text-5xl{font-size:3rem;line-height:1}
              .md\:text-xl{font-size:1.25rem;line-height:1.75rem}
            }
            @media (min-width:1024px){
              .lg\:text-6xl{font-size:3.75rem;line-height:1}
            }
          0:{"P":null,"b":"BUouvLgOXs4ShbNKAqJAE","p":"","c":["","blog","three-integrations-walk-into-a-bar",""],"i":false,"f":[[["",{"children":["blog",{"children":[["slug","three-integrations-walk-into-a-bar","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f9342e94655f11e9.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","className":"font-inter","children":[["$","head",null,{"children":[["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\n              (function() {\n                const theme = localStorage.getItem('theme') ||\n                  (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');\n                if (theme === 'dark') {\n                  document.documentElement.classList.add('dark');\n                  document.body.classList.add('dark');\n                }\n              })();\n            "}}],["$","link",null,{"rel":"dns-prefetch","href":"//pipermorgan.ai"}],["$","link",null,{"rel":"preconnect","href":"https://pipermorgan.ai"}],["$","link",null,{"rel":"preload","as":"image","href":"/assets/pm-logo.png"}],["$","link",null,{"rel":"preload","href":"/fonts/inter-latin.woff2","as":"font","type":"font/woff2","crossOrigin":"anonymous"}],["$","link",null,{"rel":"preload","href":"/fonts/HossRound-Regular.woff2","as":"font","type":"font/woff2","crossOrigin":"anonymous"}],["$","style",null,{"dangerouslySetInnerHTML":{"__html":"$2"}}]]}],"$L3"]}]]}],{"children":["blog","$L4",{"children":[["slug","three-integrations-walk-into-a-bar","d"],"$L5",{"children":["__PAGE__","$L6",{},null,false]},null,false]},null,false]},null,false],"$L7",false]],"m":"$undefined","G":["$8",[]],"s":false,"S":true}
9:I[9119,["874","static/chunks/874-668c89038fa04eb8.js","212","static/chunks/212-369ef96a260e510f.js","177","static/chunks/app/layout-9ed54623e803ece8.js"],"ClientLayout"]
a:I[7555,[],""]
b:I[1295,[],""]
c:I[6874,["874","static/chunks/874-668c89038fa04eb8.js","212","static/chunks/212-369ef96a260e510f.js","144","static/chunks/144-1b443e029a921717.js","674","static/chunks/674-52b5c5cca1ff8805.js","831","static/chunks/app/blog/page-666765c672eae567.js"],""]
10:I[9665,[],"OutletBoundary"]
12:I[4911,[],"AsyncMetadataOutlet"]
14:I[9665,[],"ViewportBoundary"]
16:I[9665,[],"MetadataBoundary"]
17:"$Sreact.suspense"
3:["$","body",null,{"className":"font-sans antialiased","children":[["$","$L9",null,{"children":["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"min-h-screen","children":["$","div",null,{"className":"site-container max-w-4xl pt-16 md:pt-24 pb-8 md:pb-12 text-center","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"text-8xl md:text-9xl font-bold text-primary-teal-text mb-4","children":"404"}],["$","h2",null,{"className":"text-3xl md:text-4xl font-semibold text-text-dark mb-4","children":"Page Not Found"}],["$","p",null,{"className":"text-xl text-text-light leading-relaxed max-w-2xl mx-auto","children":"Looks like this page got lost in the AI training data. Don't worry â€“ even the best algorithms make mistakes sometimes."}]]}],["$","div",null,{"className":"mb-12","children":[["$","h3",null,{"className":"text-xl font-semibold text-text-dark mb-6","children":"Where would you like to go instead?"}],["$","div",null,{"className":"grid md:grid-cols-2 gap-6 max-w-2xl mx-auto","children":[["$","div",null,{"className":"space-y-4","children":[["$","$Lc",null,{"href":"/","className":"block p-4 bg-surface rounded-card hover:bg-gray-50 transition-colors group","children":[["$","h4",null,{"className":"font-semibold text-text-dark group-hover:text-primary-teal-text","children":"ğŸ  Homepage"}],["$","p",null,{"className":"text-sm text-text-light mt-1","children":"Start from the beginning of our AI PM journey"}]]}],["$","$Lc",null,{"href":"/how-it-works","className":"block p-4 bg-surface rounded-card hover:bg-gray-50 transition-colors group","children":[["$","h4",null,{"className":"font-semibold text-text-dark group-hover:text-primary-teal-text","children":"âš™ï¸ How It Works"}],["$","p",null,{"className":"text-sm text-text-light mt-1","children":"Discover our AI-powered product management methodology"}]]}]]}],["$","div",null,{"className":"space-y-4","children":[["$","$Lc",null,{"href":"/what-weve-learned","className":"block p-4 bg-surface rounded-card hover:bg-gray-50 transition-colors group","children":[["$","h4",null,{"className":"font-semibold text-text-dark group-hover:text-primary-teal-text","children":"ğŸ’¡ What We've Learned"}],["$","p",null,{"className":"text-sm text-text-light mt-1","children":"Building-in-public insights and breakthroughs"}]]}],["$","$Lc",null,{"href":"/blog","className":"block p-4 bg-surface rounded-card hover:bg-gray-50 transition-colors group","children":[["$","h4",null,{"className":"font-semibold text-text-dark group-hover:text-primary-teal-text","children":"ğŸ“ Journey"}],["$","p",null,{"className":"text-sm text-text-light mt-1","children":"Follow our building-in-public blog posts"}]]}],["$","$Lc",null,{"href":"/get-involved","className":"block p-4 bg-surface rounded-card hover:bg-gray-50 transition-colors group","children":[["$","h4",null,{"className":"font-semibold text-text-dark group-hover:text-primary-teal-text","children":"ğŸš€ Get Involved"}],["$","p",null,{"className":"text-sm text-text-light mt-1","children":"Join our community and stay updated"}]]}]]}]]}]]}],["$","div",null,{"className":"text-center","children":[["$","p",null,{"className":"text-text-light mb-6","children":"Still can't find what you're looking for?"}],["$","$Lc",null,{"href":"/get-involved","className":"inline-flex items-center justify-center font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:transform-none bg-primary-teal text-white hover:bg-teal-600 focus:ring-primary-teal shadow-component hover:shadow-component-hover hover:-translate-y-0.5 hover:scale-105 font-bold text-lg px-8 py-4 text-lg rounded-button","aria-label":"$undefined","children":[false,"Get Help & Stay Updated"]}]]}],["$","div",null,{"className":"mt-12 p-6 bg-gray-50 rounded-card max-w-lg mx-auto","children":["$","p",null,{"className":"text-sm text-text-light italic","children":["ğŸ’¬ ","$Ld"," \"Even the most sophisticated neural networks occasionally return null. Let's navigate back to more productive paths together!\""]}]}]]}]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}],"$Le"]}]
4:["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]
5:["$","$1","c",{"children":[null,["$","$La",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]
6:["$","$1","c",{"children":["$Lf",null,["$","$L10",null,{"children":["$L11",["$","$L12",null,{"promise":"$@13"}]]}]]}]
7:["$","$1","h",{"children":[null,[["$","$L14",null,{"children":"$L15"}],null],["$","$L16",null,{"children":["$","div",null,{"hidden":true,"children":["$","$17",null,{"fallback":null,"children":"$L18"}]}]}]]}]
19:I[9795,["874","static/chunks/874-668c89038fa04eb8.js","212","static/chunks/212-369ef96a260e510f.js","177","static/chunks/app/layout-9ed54623e803ece8.js"],"default"]
d:["$","strong",null,{"children":"Piper Morgan says:"}]
e:["$","$L19",null,{}]
1a:I[7887,["874","static/chunks/874-668c89038fa04eb8.js","953","static/chunks/app/blog/%5Bslug%5D/page-63f1c4c60df8aece.js"],"BlogPostContent"]
1b:T2c32,<figure><img alt="Three robots, each missing some parts, walk into a robot bar called Foo" src="https://cdn-images-1.medium.com/max/1024/1*grvkaMObknRqcbQy0H1CrA.png" /><figcaption>â€œWhatâ€™ll itÂ be?â€</figcaption></figure><p><em>September 28</em></p><p>Sunday afternoon at 4:14 PM, I opened my laptop expecting a straightforward router completion task. The gameplan looked clean: finish three integration routers (Slack, Notion, Calendar), apply the patterns weâ€™d proven with GitHub on Saturday, maybe six hours of systematic work.</p><p>By midnight, weâ€™d completed all three routers. But the path there involved discovering that every single assumption in the gameplan was wrong, that each integration existed in a completely different state, and that â€œreality check before assumptionsâ€ isnâ€™t just methodology theaterâ€Šâ€”â€Šitâ€™s how you avoid building the wrong thing efficiently.</p><p>This is the story of what happens when you actually look before you leap, even when you think you already know what youâ€™llÂ find.</p><h3>The gameplan thatÂ wasnâ€™t</h3><p>The Chief Architectâ€™s initial gameplan made perfect sense based on GitHub issue #199â€™s description: â€œIntegration routers 14â€“20% complete.â€ Weâ€™d just finished the GitHub router Saturday nightâ€Šâ€”â€Š121% complete with systematic verification. Apply the same pattern to three more routers. Simple multiplication.</p><p>The gameplan laid out fiveÂ parts:</p><ul><li>Phase âˆ’1: Infrastructure realityÂ check</li><li>Phase 0: Comprehensive routerÂ audit</li><li>Phases 1â€“3: Router completion for Slack, Notion,Â Calendar</li><li>Phases 4â€“5: Service migration andÂ testing</li><li>Phase 6: Documentation andÂ locking</li></ul><p>But then I asked six questions that changed everything:</p><ol><li>Did I review the gameplan template first?Â No.</li><li>Do we need Phase âˆ’1?Â Perhaps.</li><li>Did I review the issue description? No.</li><li>Are those bash examples verified or guesses?Â Guesses.</li><li>Am I conveying necessary context? Incomplete.</li><li>Are my assumptions grounded in reality?Â Partial.</li></ol><p>â€œWe need to be more rigorous,â€ I told the Lead Developer. â€œNot wingÂ it.â€</p><p>Phase âˆ’1 exists for exactly this reason: to verify infrastructure matches your assumptions before you build on top of them. (Also, so I stop and actually read the plan instead of passing it along passively and then griping about wrong assumptions.)</p><p>We added it to the gameplan and deployed the Code agent to investigate.</p><p>What came back was nothing like what we expected.</p><h3>Integration #1: The one that wasÂ ready</h3><p>Slack looked straightforward at first. The Code agentÂ found:</p><ul><li>Complete directory at services/integrations/slack/</li><li>Sophisticated spatial intelligence system (6 files, 20+ components)</li><li>SlackClient with coreÂ methods</li><li>Pattern matching GitHubâ€™s successful implementation</li></ul><p>Status: <strong>GREEN</strong>â€Šâ€”â€ŠReady for routerÂ work.</p><p>This was exactly what we expected. One down, two toÂ go.</p><h3>Integration #2: The mysterious adapter</h3><p>Notion was different. The Code agentÂ found:</p><ul><li>MCP adapter at services/integrations/mcp/notion_adapter.py</li><li>637 lines of implementation</li><li>Butâ€¦ wait, MCP pattern? Thatâ€™s not what the gameplanÂ assumed</li></ul><p>The original scope expected traditional client/agent patterns like GitHub and Slack. But Notion used Model Context Protocol adaptersâ€Šâ€”â€Ša different architectural approach entirely. Not incomplete. Just different.</p><p>I knew we had started layering inMCP support before we started adding spatial intelligence, so it looked like different integrations had each inherited one of these partial solutions.</p><p>The question became: should we wrap the MCP adapter with a router, or acknowledge it as a different pattern? The architecture was sound, just unexpected.</p><p>Status: <strong>YELLOW</strong>â€Šâ€”â€ŠArchitecture decisionÂ needed.</p><h3>Integration #3: The one that didnâ€™tÂ exist</h3><p>Calendar revealed the real problem. The Code agent searched everywhere:</p><ul><li>No services/integrations/calendar/ directory</li><li>No calendar client orÂ agent</li><li>No spatial calendarÂ files</li><li>Nothing matching the expectedÂ pattern</li></ul><p>Status: <strong>RED</strong>â€Šâ€”â€ŠIntegration appears completely missing.</p><p>The scope estimate jumped immediately. If we had to build an entire Calendar integration from scratch, we werenâ€™t looking at 16 hours of router work. We were looking at potentially 40+ hours including OAuth implementation, API integration, spatial adapter creation, and everything else.</p><p><em>Note: I happened to know we had successfully integrated Google Calendar a while back, but clearly we had done it outside of the expected channels, to the extent that my agent was reporting not being able to findÂ it.</em></p><p>At 6:43 PM, I reported back to the Chief Architect: our three â€œsimilar routersâ€ were actually three completely different architectural challenges. The gameplan assumptions had collided withÂ reality.</p><h3>The discovery that changed everything</h3><p>So I disputed the claim about the Calendar integration being missing entirely, reminding theÂ team:</p><p>â€œWe have OAuth working (somewhere). I personally verified the Calendar connection works. The integration was built September 19â€“22.â€</p><p>Soâ€¦ if the Calendar integration existed and worked, where wasÂ it?</p><p>Phase âˆ’1B launched: find the Calendar integration that OAuth proved must exist somewhere. The Code agent searched git history for those dates, checked every possible location, looked for any OAuth-related code.</p><p>At 8:35 PM, the discovery cameÂ through:</p><p>Complete <strong>Google Calendar integration</strong> found at<strong> </strong>services/mcp/consumer/google_calendar_adapter.py</p><p>Not missing. Not incomplete. Actually 85% completeÂ with:</p><ul><li>OAuth 2.0 working since September 6</li><li>Full feature set (events, meetings, freeÂ time)</li><li>Spatial intelligence via BaseSpatialAdapter</li><li>Circuit breaker resilience pattern</li><li>CLI testing interface</li><li>499 lines of solid implementation</li></ul><p>The Calendar integration wasnâ€™t missing. It was just somewhere unexpected, using the MCP pattern weâ€™d just discovered withÂ Notion.</p><h3>When assumptions meet architecture</h3><p>At 8:36 PM, the picture finally clarified:</p><p><strong>All three integrations use MCPÂ pattern.</strong></p><p>Not three traditional routers like GitHub. Three lightweight router wrappers around existing MCP adapters:</p><ul><li>Slack: Has traditional spatial pattern, needs routerÂ wrapper</li><li>Notion: MCP adapter exists, needs routerÂ wrapper</li><li>Calendar: MCP adapter 85% complete, needs routerÂ wrapper</li></ul><p>The MCP integration had been more complete than we had realized!</p><p>The original 32â€“56 hour estimate collapsed to about 12 hours. We werenâ€™t building routers from scratch. We were wrapping proven adapters with the router pattern for QueryRouter access.</p><p>The gameplan got its third major revision. But this time, the revision made the work simpler rather than more complex. Understanding actual architecture beats assuming expected patterns.</p><h3>The eveningÂ sprint</h3><p>With clarity came momentum. Between 8:48 PM and midnight, systematic work produced:</p><p><strong>Phase 0</strong>: MCP architecture investigation complete</p><ul><li>Pattern documented</li><li>Adapter inventory verified</li><li>Design approach confirmed</li></ul><p><strong>Phase 1</strong>: CalendarIntegrationRouter complete</p><ul><li>8 methods implemented</li><li>Feature flag controlÂ added</li><li>285 lines, following provenÂ pattern</li></ul><p><strong>Phase 2</strong>: NotionIntegrationRouter complete</p><ul><li>23 methods implemented</li><li>Full spatial interface</li><li>637 lines, comprehensive coverage</li></ul><p><strong>Phase 3</strong>: SlackIntegrationRouter complete</p><ul><li>20 methods implemented</li><li>Dual-component architecture (SlackSpatialAdapter + SlackClient)</li><li>850+ lines, most complex butÂ cleanest</li></ul><p>By 11:23 PM, all three routers existed, tested, and verified. Cursor had independently cross-validated each one. The infrastructure wasÂ ready.</p><p>But implementation and migration are different challenges. Six services still imported adapters directly, bypassing the routers entirely. Monday morning would bring the real test: could these routers actually replace the direct imports without breaking anything?</p><h3>The layers of discovery</h3><p>Sunday demonstrated something crucial about complex systems work: assumptions fail inÂ layers.</p><p><strong>Layer 1</strong>: â€œThree similar routersâ€ â†’ Actually three different architectures</p><p><strong>Layer 2</strong>: â€œ14â€“20% completeâ€ â†’ States ranging from ready to seemingly missing</p><p><strong>Layer 3</strong>: â€œNeed to buildâ€ â†’ Actually need to wrap existingÂ work</p><p><strong>Layer 4</strong>: â€œMissing integrationâ€ â†’ Hidden in unexpected location</p><p>Each discovery changed the scope, the approach, the estimate. But each also brought us closer to reality. Phase âˆ’1 didnâ€™t delay the workâ€Šâ€”â€Šit prevented us from building the wrong solution efficiently.</p><p>The methodology held. When the gameplan met reality, we revised the gameplan rather than forcing reality to match our assumptions. Investigation revealed architecture. Architecture informed approach. Approach determined scope.</p><h3>The questions thatÂ matter</h3><p>Sundayâ€™s success came from asking simple questions before assuming we knew theÂ answers:</p><ul><li>Where is this code actuallyÂ located?</li><li>What pattern does it actuallyÂ use?</li><li>What state is it actuallyÂ in?</li><li>What do we actually need toÂ build?</li></ul><p>Not â€œwhat should be thereâ€ but â€œwhat is there.â€ Not â€œhow should it workâ€ but â€œhow does it work.â€ The gap between expectation and reality is where projects goÂ wrong.</p><p>By midnight Sunday, we had three complete routers, ready for Mondayâ€™s migration work. The investigation had taken longer than expected. The discoveries had revised the scope three times. But weâ€™d built the rightÂ thing.</p><p>Monday morning would test whether weâ€™d built itÂ right.</p><p>Next on Building Piper Morgan: Solving the 80% Problem, in which we grapple with this frustrating tendency of coding agents to declare success when nearlyÂ done.</p><p>Have you ever sat down to do some work and found out after refreshing your memory that it was mostly already accomplished and just needed finishing? Are you, like me, one of those people who leaves cupboard doors ajar? What is wrong withÂ us?</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=f748ce4c2db1" width="1" height="1" alt=""><hr><p><a href="https://medium.com/building-piper-morgan/three-integrations-walk-into-a-bar-f748ce4c2db1">Three Integrations Walk Into a Bar</a> was originally published in <a href="https://medium.com/building-piper-morgan">Building Piper Morgan</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>1c:T48ad,<section name="237d" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="4eaf" id="4eaf" class="graf graf--h3 graf--leading graf--title">Three Integrations Walk Into aÂ Bar</h3><figure name="2600" id="2600" class="graf graf--figure graf--startsWithDoubleQuote graf-after--h3"><img class="graf-image" data-image-id="1*grvkaMObknRqcbQy0H1CrA.png" data-width="1536" data-height="1024" data-is-featured="true" alt="Three robots, each missing some parts, walk into a robot bar called Foo" src="https://cdn-images-1.medium.com/max/800/1*grvkaMObknRqcbQy0H1CrA.png"><figcaption class="imageCaption">â€œWhatâ€™ll itÂ be?â€</figcaption></figure><p name="8a06" id="8a06" class="graf graf--p graf-after--figure"><em class="markup--em markup--p-em">September 28</em></p><p name="854c" id="854c" class="graf graf--p graf--hasDropCapModel graf--hasDropCap graf-after--p"><span class="graf-dropCap">S</span>unday afternoon at 4:14 PM, I opened my laptop expecting a straightforward router completion task. The gameplan looked clean: finish three integration routers (Slack, Notion, Calendar), apply the patterns weâ€™d proven with GitHub on Saturday, maybe six hours of systematic work.</p><p name="7b98" id="7b98" class="graf graf--p graf-after--p">By midnight, weâ€™d completed all three routers. But the path there involved discovering that every single assumption in the gameplan was wrong, that each integration existed in a completely different state, and that â€œreality check before assumptionsâ€ isnâ€™t just methodology theaterâ€Šâ€”â€Šitâ€™s how you avoid building the wrong thing efficiently.</p><p name="0737" id="0737" class="graf graf--p graf-after--p">This is the story of what happens when you actually look before you leap, even when you think you already know what youâ€™ll find.</p><h3 name="d187" id="d187" class="graf graf--h3 graf-after--p">The gameplan thatÂ wasnâ€™t</h3><p name="c6a0" id="c6a0" class="graf graf--p graf-after--h3">The Chief Architectâ€™s initial gameplan made perfect sense based on GitHub issue #199â€™s description: â€œIntegration routers 14â€“20% complete.â€ Weâ€™d just finished the GitHub router Saturday nightâ€Šâ€”â€Š121% complete with systematic verification. Apply the same pattern to three more routers. Simple multiplication.</p><p name="11d7" id="11d7" class="graf graf--p graf-after--p">The gameplan laid out five parts:</p><ul class="postList"><li name="caf2" id="caf2" class="graf graf--li graf-after--p">Phase âˆ’1: Infrastructure reality check</li><li name="fc2a" id="fc2a" class="graf graf--li graf-after--li">Phase 0: Comprehensive router audit</li><li name="3f41" id="3f41" class="graf graf--li graf-after--li">Phases 1â€“3: Router completion for Slack, Notion, Calendar</li><li name="a2f5" id="a2f5" class="graf graf--li graf-after--li">Phases 4â€“5: Service migration and testing</li><li name="7255" id="7255" class="graf graf--li graf-after--li">Phase 6: Documentation and locking</li></ul><p name="67d0" id="67d0" class="graf graf--p graf-after--li">But then I asked six questions that changed everything:</p><ol class="postList"><li name="f7da" id="f7da" class="graf graf--li graf-after--p">Did I review the gameplan template first? No.</li><li name="9408" id="9408" class="graf graf--li graf-after--li">Do we need Phase âˆ’1? Perhaps.</li><li name="0d07" id="0d07" class="graf graf--li graf-after--li">Did I review the issue description? No.</li><li name="fc31" id="fc31" class="graf graf--li graf-after--li">Are those bash examples verified or guesses? Guesses.</li><li name="f7e5" id="f7e5" class="graf graf--li graf-after--li">Am I conveying necessary context? Incomplete.</li><li name="9695" id="9695" class="graf graf--li graf-after--li">Are my assumptions grounded in reality? Partial.</li></ol><p name="7f0d" id="7f0d" class="graf graf--p graf--startsWithDoubleQuote graf-after--li">â€œWe need to be more rigorous,â€ I told the Lead Developer. â€œNot wing it.â€</p><p name="0e6b" id="0e6b" class="graf graf--p graf-after--p">Phase âˆ’1 exists for exactly this reason: to verify infrastructure matches your assumptions before you build on top of them. (Also, so I stop and actually read the plan instead of passing it along passively and then griping about wrong assumptions.)</p><p name="67cd" id="67cd" class="graf graf--p graf-after--p">We added it to the gameplan and deployed the Code agent to investigate.</p><p name="afd7" id="afd7" class="graf graf--p graf-after--p">What came back was nothing like what we expected.</p><h3 name="96c5" id="96c5" class="graf graf--h3 graf-after--p">Integration #1: The one that wasÂ ready</h3><p name="5624" id="5624" class="graf graf--p graf-after--h3">Slack looked straightforward at first. The Code agent found:</p><ul class="postList"><li name="9d5f" id="9d5f" class="graf graf--li graf-after--p">Complete directory at <code class="markup--code markup--li-code">services/integrations/slack/</code></li><li name="1545" id="1545" class="graf graf--li graf-after--li">Sophisticated spatial intelligence system (6 files, 20+ components)</li><li name="7c30" id="7c30" class="graf graf--li graf-after--li">SlackClient with core methods</li><li name="7113" id="7113" class="graf graf--li graf-after--li">Pattern matching GitHubâ€™s successful implementation</li></ul><p name="fdb9" id="fdb9" class="graf graf--p graf-after--li">Status: <strong class="markup--strong markup--p-strong">GREEN</strong>â€Šâ€”â€ŠReady for router work.</p><p name="4df4" id="4df4" class="graf graf--p graf-after--p">This was exactly what we expected. One down, two to go.</p><h3 name="c74e" id="c74e" class="graf graf--h3 graf-after--p">Integration #2: The mysterious adapter</h3><p name="5eea" id="5eea" class="graf graf--p graf-after--h3">Notion was different. The Code agent found:</p><ul class="postList"><li name="56c2" id="56c2" class="graf graf--li graf-after--p">MCP adapter at <code class="markup--code markup--li-code">services/integrations/mcp/notion_adapter.py</code></li><li name="ef52" id="ef52" class="graf graf--li graf-after--li">637 lines of implementation</li><li name="c3d1" id="c3d1" class="graf graf--li graf-after--li">Butâ€¦ wait, MCP pattern? Thatâ€™s not what the gameplan assumed</li></ul><p name="8b54" id="8b54" class="graf graf--p graf-after--li">The original scope expected traditional client/agent patterns like GitHub and Slack. But Notion used Model Context Protocol adaptersâ€Šâ€”â€Ša different architectural approach entirely. Not incomplete. Just different.</p><p name="e7c5" id="e7c5" class="graf graf--p graf-after--p">I knew we had started layering inMCP support before we started adding spatial intelligence, so it looked like different integrations had each inherited one of these partial solutions.</p><p name="3835" id="3835" class="graf graf--p graf-after--p">The question became: should we wrap the MCP adapter with a router, or acknowledge it as a different pattern? The architecture was sound, just unexpected.</p><p name="2b37" id="2b37" class="graf graf--p graf-after--p">Status: <strong class="markup--strong markup--p-strong">YELLOW</strong>â€Šâ€”â€ŠArchitecture decision needed.</p><h3 name="9423" id="9423" class="graf graf--h3 graf-after--p">Integration #3: The one that didnâ€™tÂ exist</h3><p name="19e4" id="19e4" class="graf graf--p graf-after--h3">Calendar revealed the real problem. The Code agent searched everywhere:</p><ul class="postList"><li name="7f95" id="7f95" class="graf graf--li graf-after--p">No <code class="markup--code markup--li-code">services/integrations/calendar/</code> directory</li><li name="aaeb" id="aaeb" class="graf graf--li graf-after--li">No calendar client or agent</li><li name="9505" id="9505" class="graf graf--li graf-after--li">No spatial calendar files</li><li name="fa26" id="fa26" class="graf graf--li graf-after--li">Nothing matching the expected pattern</li></ul><p name="4cd3" id="4cd3" class="graf graf--p graf-after--li">Status: <strong class="markup--strong markup--p-strong">RED</strong>â€Šâ€”â€ŠIntegration appears completely missing.</p><p name="bec4" id="bec4" class="graf graf--p graf-after--p">The scope estimate jumped immediately. If we had to build an entire Calendar integration from scratch, we werenâ€™t looking at 16 hours of router work. We were looking at potentially 40+ hours including OAuth implementation, API integration, spatial adapter creation, and everything else.</p><p name="c11f" id="c11f" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Note: I happened to know we had successfully integrated Google Calendar a while back, but clearly we had done it outside of the expected channels, to the extent that my agent was reporting not being able to find it.</em></p><p name="001c" id="001c" class="graf graf--p graf-after--p">At 6:43 PM, I reported back to the Chief Architect: our three â€œsimilar routersâ€ were actually three completely different architectural challenges. The gameplan assumptions had collided with reality.</p><h3 name="e73e" id="e73e" class="graf graf--h3 graf-after--p">The discovery that changed everything</h3><p name="80bf" id="80bf" class="graf graf--p graf-after--h3">So I disputed the claim about the Calendar integration being missing entirely, reminding the team:</p><p name="cdd8" id="cdd8" class="graf graf--p graf--startsWithDoubleQuote graf-after--p">â€œWe have OAuth working (somewhere). I personally verified the Calendar connection works. The integration was built September 19â€“22.â€</p><p name="3242" id="3242" class="graf graf--p graf-after--p">Soâ€¦ if the Calendar integration existed and worked, where was it?</p><p name="808b" id="808b" class="graf graf--p graf-after--p">Phase âˆ’1B launched: find the Calendar integration that OAuth proved must exist somewhere. The Code agent searched git history for those dates, checked every possible location, looked for any OAuth-related code.</p><p name="c7f7" id="c7f7" class="graf graf--p graf-after--p">At 8:35 PM, the discovery came through:</p><p name="6c93" id="6c93" class="graf graf--p graf-after--p">Complete <strong class="markup--strong markup--p-strong">Google Calendar integration</strong> found at<strong class="markup--strong markup--p-strong"> </strong><code class="markup--code markup--p-code">services/mcp/consumer/google_calendar_adapter.py</code></p><p name="75e3" id="75e3" class="graf graf--p graf-after--p">Not missing. Not incomplete. Actually 85% complete with:</p><ul class="postList"><li name="be6f" id="be6f" class="graf graf--li graf-after--p">OAuth 2.0 working since September 6</li><li name="95f1" id="95f1" class="graf graf--li graf-after--li">Full feature set (events, meetings, free time)</li><li name="6624" id="6624" class="graf graf--li graf-after--li">Spatial intelligence via BaseSpatialAdapter</li><li name="c994" id="c994" class="graf graf--li graf-after--li">Circuit breaker resilience pattern</li><li name="9791" id="9791" class="graf graf--li graf-after--li">CLI testing interface</li><li name="4114" id="4114" class="graf graf--li graf-after--li">499 lines of solid implementation</li></ul><p name="2e54" id="2e54" class="graf graf--p graf-after--li">The Calendar integration wasnâ€™t missing. It was just somewhere unexpected, using the MCP pattern weâ€™d just discovered with Notion.</p><h3 name="1f1d" id="1f1d" class="graf graf--h3 graf-after--p">When assumptions meet architecture</h3><p name="c3a4" id="c3a4" class="graf graf--p graf-after--h3">At 8:36 PM, the picture finally clarified:</p><p name="a0f9" id="a0f9" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">All three integrations use MCP pattern.</strong></p><p name="3fad" id="3fad" class="graf graf--p graf-after--p">Not three traditional routers like GitHub. Three lightweight router wrappers around existing MCP adapters:</p><ul class="postList"><li name="4b2f" id="4b2f" class="graf graf--li graf-after--p">Slack: Has traditional spatial pattern, needs router wrapper</li><li name="019f" id="019f" class="graf graf--li graf-after--li">Notion: MCP adapter exists, needs router wrapper</li><li name="8ef8" id="8ef8" class="graf graf--li graf-after--li">Calendar: MCP adapter 85% complete, needs router wrapper</li></ul><p name="a7a3" id="a7a3" class="graf graf--p graf-after--li">The MCP integration had been more complete than we had realized!</p><p name="6697" id="6697" class="graf graf--p graf-after--p">The original 32â€“56 hour estimate collapsed to about 12 hours. We werenâ€™t building routers from scratch. We were wrapping proven adapters with the router pattern for QueryRouter access.</p><p name="99dc" id="99dc" class="graf graf--p graf-after--p">The gameplan got its third major revision. But this time, the revision made the work simpler rather than more complex. Understanding actual architecture beats assuming expected patterns.</p><h3 name="7477" id="7477" class="graf graf--h3 graf-after--p">The eveningÂ sprint</h3><p name="ed43" id="ed43" class="graf graf--p graf-after--h3">With clarity came momentum. Between 8:48 PM and midnight, systematic work produced:</p><p name="134e" id="134e" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Phase 0</strong>: MCP architecture investigation complete</p><ul class="postList"><li name="cc19" id="cc19" class="graf graf--li graf-after--p">Pattern documented</li><li name="2dcf" id="2dcf" class="graf graf--li graf-after--li">Adapter inventory verified</li><li name="f59c" id="f59c" class="graf graf--li graf-after--li">Design approach confirmed</li></ul><p name="9d10" id="9d10" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Phase 1</strong>: CalendarIntegrationRouter complete</p><ul class="postList"><li name="e533" id="e533" class="graf graf--li graf-after--p">8 methods implemented</li><li name="8e29" id="8e29" class="graf graf--li graf-after--li">Feature flag control added</li><li name="d35b" id="d35b" class="graf graf--li graf-after--li">285 lines, following proven pattern</li></ul><p name="e26f" id="e26f" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Phase 2</strong>: NotionIntegrationRouter complete</p><ul class="postList"><li name="9758" id="9758" class="graf graf--li graf-after--p">23 methods implemented</li><li name="0205" id="0205" class="graf graf--li graf-after--li">Full spatial interface</li><li name="5fd3" id="5fd3" class="graf graf--li graf-after--li">637 lines, comprehensive coverage</li></ul><p name="72d0" id="72d0" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Phase 3</strong>: SlackIntegrationRouter complete</p><ul class="postList"><li name="6266" id="6266" class="graf graf--li graf-after--p">20 methods implemented</li><li name="9c8e" id="9c8e" class="graf graf--li graf-after--li">Dual-component architecture (SlackSpatialAdapter + SlackClient)</li><li name="532c" id="532c" class="graf graf--li graf-after--li">850+ lines, most complex but cleanest</li></ul><p name="d4cd" id="d4cd" class="graf graf--p graf-after--li">By 11:23 PM, all three routers existed, tested, and verified. Cursor had independently cross-validated each one. The infrastructure was ready.</p><p name="5a29" id="5a29" class="graf graf--p graf-after--p">But implementation and migration are different challenges. Six services still imported adapters directly, bypassing the routers entirely. Monday morning would bring the real test: could these routers actually replace the direct imports without breaking anything?</p><h3 name="7f83" id="7f83" class="graf graf--h3 graf-after--p">The layers of discovery</h3><p name="abf1" id="abf1" class="graf graf--p graf-after--h3">Sunday demonstrated something crucial about complex systems work: assumptions fail in layers.</p><p name="2b87" id="2b87" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Layer 1</strong>: â€œThree similar routersâ€ â†’ Actually three different architectures</p><p name="264f" id="264f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Layer 2</strong>: â€œ14â€“20% completeâ€ â†’ States ranging from ready to seemingly missing</p><p name="1d24" id="1d24" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Layer 3</strong>: â€œNeed to buildâ€ â†’ Actually need to wrap existing work</p><p name="f812" id="f812" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Layer 4</strong>: â€œMissing integrationâ€ â†’ Hidden in unexpected location</p><p name="3f68" id="3f68" class="graf graf--p graf-after--p">Each discovery changed the scope, the approach, the estimate. But each also brought us closer to reality. Phase âˆ’1 didnâ€™t delay the workâ€Šâ€”â€Šit prevented us from building the wrong solution efficiently.</p><p name="0056" id="0056" class="graf graf--p graf-after--p">The methodology held. When the gameplan met reality, we revised the gameplan rather than forcing reality to match our assumptions. Investigation revealed architecture. Architecture informed approach. Approach determined scope.</p><h3 name="23e4" id="23e4" class="graf graf--h3 graf-after--p">The questions thatÂ matter</h3><p name="09bc" id="09bc" class="graf graf--p graf-after--h3">Sundayâ€™s success came from asking simple questions before assuming we knew the answers:</p><ul class="postList"><li name="1d8d" id="1d8d" class="graf graf--li graf-after--p">Where is this code actually located?</li><li name="9c2c" id="9c2c" class="graf graf--li graf-after--li">What pattern does it actually use?</li><li name="f223" id="f223" class="graf graf--li graf-after--li">What state is it actually in?</li><li name="5b7d" id="5b7d" class="graf graf--li graf-after--li">What do we actually need to build?</li></ul><p name="e975" id="e975" class="graf graf--p graf-after--li">Not â€œwhat should be thereâ€ but â€œwhat is there.â€ Not â€œhow should it workâ€ but â€œhow does it work.â€ The gap between expectation and reality is where projects go wrong.</p><p name="8347" id="8347" class="graf graf--p graf-after--p">By midnight Sunday, we had three complete routers, ready for Mondayâ€™s migration work. The investigation had taken longer than expected. The discoveries had revised the scope three times. But weâ€™d built the right thing.</p><p name="4595" id="4595" class="graf graf--p graf-after--p graf--trailing">Monday morning would test whether weâ€™d built it right.</p></div></div>f:["$","$L1a",null,{"post":{"title":"Three Integrations Walk Into a Bar","excerpt":"â€œWhatâ€™ll it be?â€September 28Sunday afternoon at 4:14 PM, I opened my laptop expecting a straightforward router completion task. The gameplan looked clean: finish three integration routers (Slack, Notion, Calendar), apply the patterns weâ€™d proven with GitHub on Saturday, maybe six hours of systema...","url":"/blog/three-integrations-walk-into-a-bar","publishedAt":"Oct 6, 2025","publishedAtISO":"Mon, 06 Oct 2025 13:00:58 GMT","author":"christian crumlish","readingTime":"5 min read","tags":["Building in Public"],"guid":"https://medium.com/p/f748ce4c2db1","featuredImage":"https://cdn-images-1.medium.com/max/1024/1*grvkaMObknRqcbQy0H1CrA.png","fullContent":"$1b","subtitle":"","canonicalLink":"https://medium.com/building-piper-morgan/three-integrations-walk-into-a-bar-f748ce4c2db1?source=rss----982e21163f8b---4","thumbnail":"/assets/blog-images/f748ce4c2db1-featured.png","slug":"three-integrations-walk-into-a-bar","workDate":"Sep 28, 2025","workDateISO":"2025-09-28T00:00:00.000Z","category":"building","cluster":"reflection-evolution","featured":false},"content":{"title":"Three Integrations Walk Into a Bar","subtitle":"September 28","content":"$1c","author":"christian crumlish","canonicalLink":"","publishedDate":"2025-10-06T13:00:58.818Z","filename":"2025-10-06_Three-Integrations-Walk-Into-a-Bar-f748ce4c2db1.html"}}]
15:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
11:null
1d:I[8175,[],"IconMark"]
13:{"metadata":[["$","title","0",{"children":"Three Integrations Walk Into a Bar | Piper Morgan"}],["$","meta","1",{"name":"description","content":"September 28"}],["$","meta","2",{"name":"author","content":"Christian Crumlish"}],["$","meta","3",{"name":"keywords","content":"AI,Product Management,Methodology,Building in Public"}],["$","meta","4",{"name":"creator","content":"Christian Crumlish"}],["$","meta","5",{"name":"publisher","content":"Christian Crumlish"}],["$","meta","6",{"name":"robots","content":"index, follow"}],["$","meta","7",{"name":"googlebot","content":"index, follow"}],["$","link","8",{"rel":"canonical","href":"https://pipermorgan.ai/"}],["$","meta","9",{"name":"format-detection","content":"telephone=no, address=no, email=no"}],["$","meta","10",{"property":"og:title","content":"Three Integrations Walk Into a Bar"}],["$","meta","11",{"property":"og:description","content":"September 28"}],["$","meta","12",{"property":"og:image","content":"https://pipermorgan.ai/assets/blog-images/f748ce4c2db1-featured.png"}],["$","meta","13",{"property":"og:type","content":"article"}],["$","meta","14",{"property":"article:author","content":"christian crumlish"}],["$","meta","15",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","16",{"name":"twitter:title","content":"Three Integrations Walk Into a Bar"}],["$","meta","17",{"name":"twitter:description","content":"September 28"}],["$","meta","18",{"name":"twitter:image","content":"https://pipermorgan.ai/assets/blog-images/f748ce4c2db1-featured.png"}],["$","link","19",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"32x33"}],["$","link","20",{"rel":"icon","href":"/favicon.ico","sizes":"32x32","type":"image/x-icon"}],["$","link","21",{"rel":"icon","href":"/pm-favicon-16.png","sizes":"16x16","type":"image/png"}],["$","link","22",{"rel":"icon","href":"/pm-favicon-32.png","sizes":"32x32","type":"image/png"}],["$","link","23",{"rel":"icon","href":"/pm-favicon-48.png","sizes":"48x48","type":"image/png"}],["$","link","24",{"rel":"apple-touch-icon","href":"/pm-favicon-180.png","sizes":"180x180","type":"image/png"}],["$","link","25",{"rel":"icon","href":"/pm-favicon-192.png","sizes":"192x192","type":"image/png"}],["$","$L1d","26",{}]],"error":null,"digest":"$undefined"}
18:"$13:metadata"
